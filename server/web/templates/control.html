{% extends "base.html" %}
{% block title %}Control Panel{% endblock %}
{% block content %}
<h1>Control Panel</h1>

<div id="controls">
  <button id="btnRefresh">Refresh list</button>
  <button id="btnNew">New article</button>
</div>

<table id="articlesTable" border="1" style="width:100%;margin-top:10px">
  <thead>
    <tr><th>ID</th><th>Title</th><th>Created</th><th>Actions</th></tr>
  </thead>
  <tbody></tbody>
</table>

<div id="editor" style="display:none;margin-top:10px">
  <input id="editTitle" style="width:100%" placeholder="title" />
  <textarea id="editContent" style="width:100%;height:240px"></textarea>
  <button id="saveBtn">Save</button>
  <button id="cancelBtn">Cancel</button>
</div>

<script>
  // token from query param, already validated by Flask
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get('token') || '';
</script>
<script src="{{ url_for('static', filename='js/control.js') }}"></script>
{% endblock %}
